# 메모리 관리 전략
- `프로세스`는 독립된 메모리 공간을 갖고, 운영체제/다른 프로세스의 메모리 공간에 접근할 수 없다.
- `운영체제`만이 운영체제와 사용자 메모리 영역에 접근할 수 있다.

### Swapping
- RR과 같은 스케줄링의 다중 프로그래밍 환경에서, CPU 할당 시간이 끝난 프로세스의 메모리를 보조 기억장치로 내보내고(`swap-out`) 다른 프로세스의 메모리를 불러 들이는(`swap-in`) 기법.   
- swap을 위해 큰 디스크 전송시간이 필요하기 때문에 현재에는 메모리 공간이 부족할 때만 swapping이 진행된다.  

### 단편화(Fragmentation)
프로세스들이 메모리에 적재되고 제거되는 일이 반복되면서 메모리 틈 사이에 사용하지 못할 만큼의 자유 공간들이 늘어나는 것.  
#### - 외부 단편화
<img src="https://user-images.githubusercontent.com/70271235/222621226-e0133eaa-4043-4526-b8a9-ad7c56953770.png"  width="430" height="300">  

  : 물리 메모리 공간 중 사용하지 못하게 되는 일부분. 사이사이 남는 공간들을 모두 합치면 충분한 공간이 된다.  
  
#### - 압축
  : 외부 단편화를 해소하기 위해 프로세스가 사용하는 공간들을 한쪽으로 몰아, 자유 공간을 확보한다. 작업 효율이 좋지 않다.  
#### - 내부 단편화
<img src="https://user-images.githubusercontent.com/70271235/222621235-bdf7f457-119b-4ad0-aab8-9e926a7b1a6c.png"  width="430" height="240">  

  : 프로세스가 사용하는 메모리 공간에 포함된 남는 부분.   
  위 사진에서는 100MB 메모리에 80MB 크기의 프로세스를 올려 20MB의 내부 단편화가 발생한다.  

----

## Paging(페이징)
- 하나의 프로세스가 사용하는 메모리 공간이 연속적이지 않아도 된다는 메모리 관리 방법
- 외부 단편화와 압축 작업을 해소하기 위해 만들어졌다.
- 물리 메모리: Frame
- 논리 메모리(프로세스): Page
- 하나의 프로세스가 사용하는 공간은 논리 메모리에서 여러 페이지로 나뉘어 관리되고,  
  개별 페이지는 `순서에 상관없이` 물리 메모리에 있는 프레임에 mapping되어 저장된다.  
  
</br>

- 장점  
  : 논리 메모리는 물리 메모리에 저장될 때, 연속되어 저장될 필요가 없기 때문에  
  물리 메모리의 남는 프레임에 적절히 배치되어 외부 단편화를 해결할 수 있다.  
- 단점  
  : 내부 단편화가 증가한다.
  예를 들어 페이지 크기가 1,024B고 한 프로세스가 3,172B의 메모리를 요구했을 때,    
  3개의 페이지 프레임(1,024B * 3)을 사용하면 100B이 부족하기 때문에 총 4개의 페이지 프레임이 필요하다.  
  이 때 4번째 페이지 프레임에는 924B의 여유 공간이 남는다.  
----
## Segmentation(세그멘테이션)
<img src="https://user-images.githubusercontent.com/70271235/222623604-d3d204f8-6c79-4cfd-b3af-c9c97a99abe2.png"  width="430" height="280">  


- 페이징과 달리 논리 메모리와 물리 메모리를 `서로 다른 크기`의 논리적 단위인 세그먼트(Segment)로 분할한다.
- 사용자가 두 개의 주소로 지정(논리 주소) : s(세그먼트 번호) + d(변위)  
- 세그먼트 테이블 : base(세그먼트의 시작 물리 주소) + limit(세그먼트 길이)  
- 물리 주소 a : base[s] + d  
- 단점 : 서로 다른 크기의 세그먼트들이 메모리에 적재되고 제거되다 보면, 외부 단편화가 발생할 수 있다.  
------
#### 출처  
https://github.com/JaeYeopHan/Interview_Question_for_Beginner  
https://code-lab1.tistory.com/54  
https://wansook0316.github.io/cs/os/2020/04/06/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EC%A0%95%EB%A6%AC-15-%EC%84%B8%EA%B7%B8%EB%A9%98%ED%85%8C%EC%9D%B4%EC%85%98.html
