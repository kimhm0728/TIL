# 임계 영역(Critical Section)
동일한 자원을 동시에 접근하는 작업(공유 변수/동일한 파일 사용)을 실행하는 코드 영역.

</br>

## 임계 영역 해결을 위한 기본 조건(Requirements)
- 상호 배제(Mutual Exclusion)  
  : 한 프로세스가 임계 영역에서 실행 중이라면, 다른 프로세스들은 그들이 가진 임계 영역에서 실행될 수 없다.
- 진행(Progress)  
  : 임계 영역에서 실행 중인 프로세스가 없고, 별도의 동작이 없는 프로세스들만 임계 영역의 진입 후보로서 참여될 수 있다.
- 한정된 대기(Bounded Waiting)  
  : 한 프로세스가 임계 영역에 진입 신청 후 받아들여질 때까지, 다른 프로세스들이 임계 영역에 진입하는 횟수는 제한이 있어야 한다.
  
</br>

## 임계 영역 해결책
### 1. Mutex Lock
  - 동시에 공유 자원에 접근하는 것을 막기 위해 임계 영역에 진입하는 프로세스는 Lock을 획득하고  
    임계 영역을 빠져나올 때 Lock을 방출함으로써 동시에 접근이 되지 않도록 한다.  
  - 임계 영역에 `하나의 프로세스`가 접근하는 것을 막아준다. (동기화 대상이 하나)
  #### 한계
  다중처리기 환경에서는 효율성 측면에서 적용할 수 없다.
### 2. Semaphores(세마포어)
  - 상호 배제의 원리를 보장하는 알고리즘이다.
  - 잠자기와 깨우기 연산을 이용하고, 공유 자원의 수를 나타내는 변수 S를 이용하여 동기를 유지한다.
  - 임계 영역에 `여러 프로세스`가 접근하는 것을 막아준다. (동기화 대상이 하나 이상)
  - 이진형 세마포어 : 0과 1 사이의 값만 가능하며, 한 개의 공유 자원을 상호 배제한다.
  - 계수형 세마포어 : 0과 양의 정수, 여러 개의 공유 자원을 상호 배제한다.
  #### 단점
  - 바쁜 대기(Busy Waiting)  
    Spin lock이라고 불리는 세마포어 초기 버전에서,  
    임계 영역에 진입해야 하는 프로세스는 진입 코드를 계속 반복 실행하여 CPU 시간을 낭비하는 것.  
    임계 영역에 진입을 시도했지만 실패한 프로세스를 Block 시킨 뒤(P), 임계 영역에 자리가 날 때 다시 깨우는 방식(V)으로 해결한다.
    
</br>

## 교착 상태(Deadlock)
둘 이상의 프로세스가 다른 프로세스가 점유하고 있는 자원을 서로 기다리고 있어 무한 대기에 빠지는 상황

</br>

---- 

#### 출처  
https://github.com/JaeYeopHan/Interview_Question_for_Beginner
